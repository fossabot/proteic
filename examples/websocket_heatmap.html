<!doctype html>
<!--[if lt IE 7]>      <html class='no-js lt-ie9 lt-ie8 lt-ie7' lang=''> <![endif]-->
<!--[if IE 7]>         <html class='no-js lt-ie9 lt-ie8' lang=''> <![endif]-->
<!--[if IE 8]>         <html class='no-js lt-ie9' lang=''> <![endif]-->
<!--[if gt IE 8]><!-->
<html class='no-js' lang=''>
<!--<![endif]-->

<head>
  <title>Websocket heatmap</title>
  <script src='../node_modules/d3/build/d3.min.js'></script>
  <script src='../dist/proteic.js'></script>
  <meta charset="utf-8" />
  <link rel="stylesheet" href="../dist/proteic.css">
</head>

<body>
  <div id='chart'></div>
  <div id='chart-cat'></div>

  <script>
  let margins = {
      top: 20,
      left: 70,
      bottom: 100,
      right: 20
  };
    // var ws = new WebSocket('ws://localhost:3000/matrix');
    var ws = new WebSocket('wss://proteicws.herokuapp.com/matrix');
    var ds = new proteic.WebsocketDatasource(ws);

    chart = new proteic.Heatmap([], {
      xAxisType: 'linear',
      yAxisType: 'linear',
      marginTop: margins.top,
      marginRight: margins.right + 100,
      marginBottom: margins.bottom,
      marginLeft: margins.left,
    }).datasource(ds);

    chartCat = new proteic.Heatmap([], {
      selector: '#chart-cat',
      propertyX: 'a',
      propertyY: 'b',
      marginTop: margins.top,
      marginRight: margins.right + 100,
      marginBottom: margins.bottom,
      marginLeft: margins.left,
    }).datasource(ds);

    ds.start();
  </script>
</body>

</html>
